<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Nebenkosten Helper</title>

    <link rel="stylesheet" href="../../assets/css/materialize.min.css">
    <link rel="stylesheet" href="../../assets/css/index.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="../../node_modules/chart.js/dist/Chart.min.js"></script>
</head>

<body>
    <!-- Tabs -->
    <div class="row">
        <div id="tabRow" class="col s12">
            <ul class="tabs z-depth-1">
                <li class="tab col s4 grey darken-4"><a class="white-text" href="#entryTab">Zählerstände</a></li>
                <li class="tab col s4 grey darken-4"><a class="active white-text" href="#dashboard">Dashboard</a></li>
                <li class="tab col s4 grey darken-4"><a class="white-text" href="#finanzen">Finanzen</a></li>
            </ul>
        </div>

        <!-- Entry Tab -->
        <div id="entryTab" class="col s12 tabContent">
            <div class="container">
                <button class="btn waves-effect waves-light teal lighten-2" id="btnCreateEntry">
                    Create new entry &plus;
                </button>
            </div>

            <br>
            <div class="divider"></div>
            <br>

            <!-- Wasser Tabelle -->
            <div class="container tableContainer z-depth-1">
                <h4 class="table-header">Wasser</h4>
                <table class="striped centered">
                    <thead>
                        <tr>
                            <th>Zählernummer</th>
                            <th>Datum</th>
                            <th>Verbrauch</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="tbodyWasser">
                    </tbody>
                </table>
            </div>
            <br>

            <!-- Strom Tabelle -->
            <div class="container tableContainer z-depth-1">
                <h4 class="table-header">Strom</h4>
                <table class="striped centered">
                    <thead>
                        <tr>
                            <th>Zählernummer</th>
                            <th>Datum</th>
                            <th>Verbrauch</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="tbodyStrom">
                    </tbody>
                </table>
            </div>
            <br>

            <!-- Gas Tabelle -->
            <div class="container tableContainer z-depth-1">
                <h4 class="table-header">Gas</h4>
                <table class="striped centered">
                    <thead>
                        <tr>
                            <th>Zählernummer</th>
                            <th>Datum</th>
                            <th>Verbrauch</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="tbodyGas">
                    </tbody>
                </table>
            </div>

            <!--Floating Action Button-->
            <div class="fixed-action-btn">
                <a class="btn-floating btn-large teal lighten-2 z-depth-2">
                    <i class="large material-icons">menu</i>
                </a>
                <ul>
                    <li>
                        <a href="#modalAddEntry" id="addEntry" class="btn-floating floating-acc-btn modal-trigger"><i
                                class="material-icons">add</i></a>
                        <a class="btn-floating mobile-fab-tip">Neuen Zählerstand eintragen</a>
                    </li>
                    <li>
                        <a class="btn-floating floating-acc-btn"><i class="material-icons">refresh</i></a>
                        <a class="btn-floating mobile-fab-tip">Datenbestand aktualisieren</a>
                    </li>
                </ul>
            </div>

        </div>

        <div id="dashboard" class="col s12 tabContent">
            <div class="container">
                <h4>Wasser</h4>
                <canvas id="wasserChart"></canvas>
            </div>

            <div class="container">
                <h4>Strom</h4>
                <canvas id="stromChart"></canvas>
            </div>

            <div class="container">
                <h4>Gas</h4>
                <canvas id="gasChart"></canvas>
            </div>
        </div>

        <div id="finanzen" class="col s12 tabContent">
            <div class="container">
                <ul class="collapsible expandable z-depth-1">
                    <!--Wasser-->
                    <li>
                        <div class="collapsible-header teal lighten-2 white-text valign-wrapper">
                            <h5><i class="material-icons white-text">keyboard_arrow_down</i></h5>
                            <h5><i class="large material-icons">invert_colors</i>Wasser</h5>
                        </div>
                        <div class="collapsible-body">

                            <!--Brauchwasser-->
                            <div id="brauchwasser" class="div-border z-depth-1">
                                <!--Verbrauch-->
                                <h5><span class="underline-text-teal">Brauchwasser Verbrauch</span></h5>
                                <label class="black-text" for="preisBrauchwasser">Preis pro [m³]</label>
                                <input id="preisBrauchwasser" class="input-short" type="number">
                                <br>
                                <label class="black-text" for="wasserverbrauch">Brauchwasservolumen vom Zählerstand</label>
                                <input id="wasserverbrauch" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <label class="black-text" for="tage">Tage seit Abrechnungsperiodenbeginn</label>
                                <input id="tageSeit" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <label class="black-text" for="tageBis">Tage bis Abrechnungsperiodenende</label>
                                <input id="tageBis" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <label class="black-text" for="avgVebrauch">Ø Verbrauch [m³] / Tag </label>
                                <input id="avgVerbrauch" class="input-short input-readonly" type="number" readonly>
                                <br>

                                <h6>Jahresgebühr Verbrauch</h6>
                                <hr>
                                <h6 id="brauchwasserGebühr" class="gebühr"></h6>
                                <br>

                                <!--Grungebühr-->
                                <hr>
                                <h5><span class="underline-text-teal">Brauchwasser Grundgebühr</span></h5>
                                <label class="black-text" for="wasserGrundgebühr">Jahresgrundgebühr [€]</label>
                                <input id="wasserGrundgebühr" class="input-short" type="number">
                                <br>
                                <label class="black-text" for="grundgebührTag">Ø Jahresgrundgebühr [€] / Tag</label>
                                <input id="grundgebührTag" class="input-short input-readonly" type="number" readonly>
                                <br>

                                <h6>Summe Brauchwassergebühren</h6>
                                <hr>
                                <!--Nettosumme-->
                                <label class="black-text" for="nettoBrauchwasser">Brauchwassergebühr Netto</label>
                                <input id="nettoBrauchwasser" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <!--USt-->
                                <label class="black-text" for="ustBrauchwasser">Umsatzsteuer 7%</label>
                                <input id="ustBrauchwasser" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <!--Bruttosumme-->
                                <h6>Brutto Brauchwassergebühr</h6>
                                <hr>
                                <h6 class="gebühr"></h6>
                                <br>
                            </div>

                            <!--Abwasser-->
                            <div id="abwasser" class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Abwasser</span></h5>
                                <label class="black-text" for="preisAbwasser">Preis pro [m³]</label>
                                <input id="preisAbwasser" class="input-short" type="number">
                                <br>
                                <label class="black-text" for="brauchwasservolumen">Brauchwasservolumen</label>
                                <input id="brauchwasservolumen" class="input-short input-readonly" type="number"
                                    readonly>

                                <h6>Jahresgebühr</h6>
                                <hr>
                                <h6 id="abwasserGebühr" class="gebühr"></h6>
                            </div>

                            <!--Niederschlagwasser-->
                            <div id="niederschlagwasser" class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Niederschlagwasser</span></h5>
                                <label class="black-text" for="niederschlagfläche">Niederschlagsfläche [m²]</label>
                                <input id="niederschlagfläche" class="input-short" type="number">
                                <br>
                                <label class="black-text" for="flächenpreis">Preis pro [m²]</label>
                                <input id="flächenpreis" class="input-short" type="number">
                                <br>
                                <h6>Jahresgebühr</h6>
                                <hr>
                                <h6 id="niederschlagGebühr" class="gebühr"></h6>
                            </div>
                            <br>

                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Summe Wasserkosten</span></h5>
                                <br>
                                <h5 id="gesamtWasser" class="final-gebühr"></h5>
                            </div>

                        </div>
                    </li>

                    <!--Strom-->
                    <li>
                        <div class="collapsible-header teal lighten-2 valign-wrapper">
                            <h5><i class="material-icons white-text">keyboard_arrow_down</i></h5>
                            <h5 class="white-text">
                                <i class="large material-icons">power</i>
                                Strom
                            </h5>
                        </div>
                        <div class="collapsible-body z-depth-1">
                            <!--Stromverbrauch-->
                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Stromverbrauch</span></h5>
                                <label class="black-text" for="stromVerbrauch">Verbrauchter Strom in [kWh]</label>
                                <input id="stromVerbrauch" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <label class="black-text" for="preisStrom">Preis pro [kWh]</label>
                                <input id="preisStrom" class="input-short" type="number">
                                <br>
                                <h6>Stromverbrauchsgebühr</h6>
                                <hr>
                                <h6 id="stromverbrauchGebühr" class="gebühr"></h6>
                            </div>

                            <!--Stromsteuer-->
                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Stromsteuer</span></h5>
                                <label class="black-text" for="stromsteuer">Stromsteuer [€] pro [kWh]</label>
                                <input id="stromsteuer" class="input-short" type="number">
                                <br>
                                <h6>Stromsteuergebühr</h6>
                                <hr>
                                <h6 id="stromGebühr" class="gebühr"></h6>
                            </div>

                            <!--Servicepauschale-->
                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Servicepauschale</span></h5>
                                <label class="black-text" for="servicepauschale">Servicepauschale [€] pro Jahr</label>
                                <input id="servicepauschale" class="input-short" type="number">
                                <br>
                                <h6>Servicepauschalegebühr</h6>
                                <hr>
                                <h6 id="servicepauschaleGebühr" class="gebühr"></h6>
                            </div>
                            <br>
                            <!--Summe Stromkosten-->
                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Summe Stromkosten</span></h5>
                                <label class="black-text" for="nettoStrom">Netto Stromkosten</label>
                                <input id="nettoStrom" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <label class="black-text" for="ustStrom">Umsatzsteuer 19%</label>
                                <input id="ustStrom" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <h6>Brutto Stromkosten</h6>
                                <hr>
                                <h5 id="bruttoStrom" class="final-gebühr"></h5>
                            </div>
                        </div>
                    </li>

                    <!--Gas-->
                    <li>
                        <div class="collapsible-header teal lighten-2  valign-wrapper">
                            <h5><i class="material-icons white-text">keyboard_arrow_down</i></h5>
                            <h5 class="white-text"><i class="large material-icons">cloud</i>Gas</h5>
                        </div>
                        <div class="collapsible-body z-depth-1 active">

                            <!--Arbeitspreis-->
                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Arbeitspreis</span></h5>
                                <label class="black-text" for="gasverbrauch">Gasverbrauch in [m³]</label>
                                <input id="gasverbrauch" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <label class="black-text" for="zustandszahl">Zustandszahl (laut Anmerkung SWHD)</label>
                                <input id="zustandszahl" class="input-short" type="number">
                                <br>
                                <label class="black-text" for="brennwert">Brennwert [kWh] (laut Anmerkung SWHD)</label>
                                <input id="brennwert" class="input-short" type="number">
                                <br>
                                <label class="black-text" for="energievolumen">Energie [kWh] berechnet aus Gasvolumen</label>
                                <input id="energievolument" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <label class="black-text" for="preisGas">Preis [€] pro [kWh]</label>
                                <input id="preisGas" class="input-short" type="number">
                                <br>
                                <h6>Arbeitspreisgebühr</h6>
                                <hr>
                                <h6 id="arbeitspreisGebühr" class="gebühr"></h6>
                            </div>

                            <!--Grundpreis-->
                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Grundpreis</span></h5>
                                <label class="black-text" for="grundpreisJahr">Grundpreis [€] pro Jahr</label>
                                <input id="grundpreisJahr" class="input-short" type="number">
                                <br>
                                <h6>Grundpreisgebühr</h6>
                                <hr>
                                <h6 id="grundpreisGebühr" class="gebühr"></h6>
                            </div>

                            <!--Erdgassteuer-->
                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Erdgassteuer</span></h5>
                                <label class="black-text" for="erdgassteuer">Erdgassteuer [€] pro [kWh]</label>
                                <input id="erdgassteuer" class="input-short" type="number">
                                <br>
                                <h6>Erdgassteuergebühr</h6>
                                <hr>
                                <h6 id="erdgassteuerGebühr" class="gebühr"></h6>
                            </div>
                            <br>
                            <!--Summe Gaskosten-->
                            <div class="div-border z-depth-1">
                                <h5><span class="underline-text-teal">Summe Gaskosten</span></h5>
                                <label class="black-text" for="nettoGas">Netto Gaskosten</label>
                                <input id="nettoGas" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <label class="black-text" for="ustGas">Umsatzsteuer 19%</label>
                                <input id="ustGas" class="input-short input-readonly" type="number" readonly>
                                <br>
                                <h6>Brutto Gaskosten</h6>
                                <hr>
                                <h5 id="bruttoGas" class="final-gebühr"></h5>
                            </div>

                        </div>
                    </li>
                </ul>
            </div>

            <!--Floating Action Button-->
            <div class="fixed-action-btn">
                <a class="btn-floating btn-large teal lighten-2 z-depth-2">
                    <i class="large material-icons">menu</i>
                </a>
                <ul>
                    <li>
                        <a id="unfoldAllCollapse" class="btn-floating floating-acc-btn"><i class="material-icons">unfold_more</i></a>
                        <a class="btn-floating mobile-fab-tip">Alles aufklappen</a>
                    </li>
                    <li>
                        <a id="closeAllCollapse" class="btn-floating floating-acc-btn lighten-1"><i class="material-icons">unfold_less</i></a>
                        <a class="btn-floating mobile-fab-tip">Alles schließen</a>
                    </li>
                </ul>
            </div>
        </div>

    </div>

    <!-- Modal Add Entry -->
    <div id="modalAddEntry" class="modal">
        <div class="modal-content">
            <!--Header-->
            <h4>Neuen Zählerstand eintragen...</h4>
            <hr>
            <!--Content-->
            <div class="container">
                <label for="type" class="teal-text lighten-2">Typ</label>
                <div class="input-field">
                    <select id="type">
                        <option value="" disabled selected>Wähle deine Option</option>
                        <option value="Wasser">Wasser</option>
                        <option value="Strom">Strom</option>
                        <option value="Gas">Gas</option>
                    </select>
                </div>
                <div class="input-field">
                    <label for="zählernummer" class="teal-text lighten-2">Zählernummer</label>
                    <input id="zählernummer" type="number">
                </div>
                <div class="input-field">
                    <label for="datum" class="teal-text lighten-2">Datum</label>
                    <input id="datum" type="text" class="datepicker">
                </div>
                <div class="input-field">
                    <label id="verbrauchLabel" for="verbrauch" class="teal-text lighten-2">Verbrauch</label>
                    <input id="verbrauch" type="number">
                </div>
            </div>

        </div>
        <hr style="width:95%;">
        <div class="modal-footer">
            <a id="closeModal" href="#!" class="modal-close waves-effect btn-flat">Abbrechen</a>
            <a id="addEntry" href="#!" class="modal-close waves-effect waves-light btn teal lighten-2">Eintragen</a>
        </div>
    </div>

    <script src="../js/materialize.min.js"></script>
    <script src="../js/index.js"></script>
    <script src="../js/charts.js"></script>
    <!--<script src="../js/db.js"></script>-->
</body>

</html>